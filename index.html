<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explore Kajiado</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    * { box-sizing: border-box; }
    body { font-family: "Poppins", sans-serif; margin:0; background:#f7f7f7; color:#222; }
    header { background:#00897b; color:#fff; padding:15px 25px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; }
    header h1 { margin:0; font-size:1.6em; }
    nav a { color:#fff; margin-left:15px; text-decoration:none; font-weight:500; }
    nav a:hover { text-decoration:underline; }

    .hero {
      background: url('https://images.unsplash.com/photo-1605727216801-e3fbb767cebd?auto=format&fit=crop&w=1000&q=60')
        center/cover no-repeat;
      color: white; text-align:center; padding:100px 20px;
    }
    .hero h2 { font-size:2.2em; margin:0; }
    .hero p { font-size:1.1em; margin-top:10px; }

    .section { padding:40px 20px; max-width:1100px; margin:auto; }
    .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap:20px; }

    .card {
      background:#fff; border-radius:10px; overflow:hidden;
      box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:transform .2s ease;
    }
    .card:hover { transform: translateY(-5px); }
    .card img { width:100%; height:180px; object-fit:cover; }
    .card h3 { margin:10px 15px 0; color:#00897b; }
    .card p { margin:10px 15px 15px; font-size:0.95em; }
    .card a { display:inline-block; margin: 0 15px 15px; color:#00695c; text-decoration:none; font-weight:600; }

    .distance { color:#555; font-size:0.9em; margin:0 15px 10px; }

    select, input {
      padding:10px; border:1px solid #ccc; border-radius:6px; margin:5px;
      width:180px; font-family:inherit;
    }

    #map { height:400px; border-radius:10px; margin-top:30px; }

    footer { background:#004d40; color:#fff; text-align:center; padding:20px; margin-top:50px; }
  </style>
</head>
<body>
  <header>
    <h1>Explore Kajiado</h1>
    <nav>
      <a href="#places">Destinations</a>
      <a href="#transport">Transport</a>
      <a href="#lodging">Lodging</a>
      <a href="#bookings">Stays & Tours</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <section class="hero">
    <h2>Discover Kajiado’s Wonders Near You</h2>
    <p>Explore attractions, culture, and wildlife — now with distance from your location!</p>
  </section>

  <!-- Attractions Section -->
  <section class="section" id="places">
    <h2>Explore Attractions</h2>
    <div style="text-align:center;margin-bottom:20px;">
      <select id="category">
        <option value="all">All Categories</option>
        <option value="nature">Nature</option>
        <option value="culture">Cultural</option>
        <option value="food">Food & Relaxation</option>
      </select>
      <input type="text" id="search" placeholder="Search destination...">
    </div>
    <div class="grid" id="placeList"></div>
    <div id="map"></div>
  </section>

  <!-- Transport -->
  <section class="section" id="transport">
    <h2>Transport Options</h2>
    <div class="grid">
      <div class="card">
        <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=60" alt="">
        <h3>Kajiado Shuttle</h3>
        <p>Daily shuttles from Nairobi to Kajiado town and Magadi. Safe and affordable rides.</p>
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1579487785973-74a3f1b6f7ae?auto=format&fit=crop&w=800&q=60" alt="">
        <h3>Local Motorbike (Boda)</h3>
        <p>Quick and scenic rides through local routes — perfect for short tours.</p>
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?auto=format&fit=crop&w=800&q=60" alt="">
        <h3>Tour Van Rentals</h3>
        <p>Private 4x4 safari vans with guides for Amboseli and beyond.</p>
      </div>
    </div>
  </section>

  <!-- Lodging -->
  <section class="section" id="lodging">
    <h2>Where to Stay</h2>
    <div class="grid">
      <div class="card">
        <img src="https://images.unsplash.com/photo-1551884170-09fb70a3a2ed?auto=format&fit=crop&w=800&q=60" alt="">
        <h3>Olepolos Resort</h3>
        <p>Hillside cottages with restaurant and outdoor pool overlooking Rift Valley.</p>
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=800&q=60" alt="">
        <h3>Enchipai Camps</h3>
        <p>Safari-style tents near Ngong for campers and nature lovers.</p>
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1568495248636-6432b87a0d37?auto=format&fit=crop&w=800&q=60" alt="">
        <h3>Amboseli Serena Lodge</h3>
        <p>Luxury lodge with mountain views, ideal for Amboseli explorers.</p>
      </div>
    </div>
  </section>

  <!-- Stays & Tours (Real Listings) -->
  <section class="section" id="bookings">
    <h2>Book Stays & Tours</h2>
    <div class="grid">
      <div class="card">
        <img src="https://images.unsplash.com/photo-1584132967334-10e028bd69f7?auto=format&fit=crop&w=800&q=60" alt="Entarakuet Hotel">
        <h3>Entarakuet Hotel</h3>
        <p>Along Kiserian-Isinya Road, Kajiado County. Pool, family-friendly rooms & events. 📞 +254 722 88 55 77</p>
        <a href="https://entarakuethotel.com" target="_blank">Visit Website</a><br>
        <a href="tel:+254722885577">Call Now</a>
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1524086378968-32fc1e9c3b12?auto=format&fit=crop&w=800&q=60" alt="Norlis Tours & Travel">
        <h3>Norlis Tours & Travel</h3>
        <p>Kitengela-based tour operator offering safari & hotel booking services. 📞 +254 708 441 098</p>
        <a href="https://www.norlis.co.ke" target="_blank">Visit Website</a><br>
        <a href="tel:+254708441098">Call Now</a>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="section" id="contact">
    <h2>Contact & Bookings</h2>
    <p>Reach out for inquiries or guided tours:</p>
    <form action="https://formspree.io/f/your-form-id" method="POST">
      <input type="text" name="name" placeholder="Your name" required style="width:100%;padding:10px;margin-bottom:10px;">
      <input type="email" name="email" placeholder="Your email" required style="width:100%;padding:10px;margin-bottom:10px;">
      <textarea name="message" placeholder="Your message" rows="4" required style="width:100%;padding:10px;"></textarea>
      <button type="submit" style="background:#00897b;color:#fff;padding:10px 20px;border:none;border-radius:6px;margin-top:10px;">Send</button>
    </form>
  </section>

  <footer>
    <p>© 2025 Explore Kajiado | Designed by Selian</p>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const destinations = [
      { name: "Ngong Hills", type: "nature", lat: -1.3667, lon: 36.6333, desc: "Perfect for hiking and views of Rift Valley." },
      { name: "Lake Magadi", type: "nature", lat: -1.9000, lon: 36.2833, desc: "Soda lake with flamingos and salt plains." },
      { name: "Olepolos", type: "food", lat: -1.5162, lon: 36.6844, desc: "Famous for nyama choma and scenic dining." },
      { name: "Amboseli Park", type: "nature", lat: -2.6482, lon: 37.2605, desc: "Elephants with Mt. Kilimanjaro backdrop." },
      { name: "Maasai Market", type: "culture", lat: -1.8537, lon: 36.7768, desc: "Authentic crafts and Maasai beadwork." }
    ];

    const map = L.map('map').setView([-1.85, 36.8], 8);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const listContainer = document.getElementById("placeList");
    const searchInput = document.getElementById("search");
    const categorySelect = document.getElementById("category");

    function renderList(filterText = "", category = "all") {
      listContainer.innerHTML = "";
      const filtered = destinations.filter(d =>
        (category === "all" || d.type === category) &&
        d.name.toLowerCase().includes(filterText.toLowerCase())
      );
      filtered.forEach(d => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="https://source.unsplash.com/400x300/?${encodeURIComponent(d.name)}" alt="${d.name}">
          <h3>${d.name}</h3>
          <p>${d.desc}</p>
          <p class="distance" id="dist-${d.name.replace(/\s+/g,'')}">Calculating distance...</p>
        `;
        listContainer.appendChild(card);
      });
    }

    renderList();
    searchInput.addEventListener("input", e => renderList(e.target.value, categorySelect.value));
    categorySelect.addEventListener("change", e => renderList(searchInput.value, e.target.value));

    const markers = {};
    destinations.forEach(d => {
      markers[d.name] = L.marker([d.lat, d.lon]).addTo(map)
        .bindPopup(`<b>${d.name}</b><br>${d.desc}`);
    });

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(pos => {
        const userLat = pos.coords.latitude;
        const userLon = pos.coords.longitude;
        const userMarker = L.marker([userLat, userLon], { title: "You are here" }).addTo(map)
          .bindPopup("<b>Your Location</b>").openPopup();
        map.setView([userLat, userLon], 9);

        function getDistance(lat1, lon1, lat2, lon2) {
          const R = 6371;
          const dLat = (lat2 - lat1) * Math.PI / 180;
          const dLon = (lon2 - lon1) * Math.PI / 180;
          const a = Math.sin(dLat/2)**2 + Math.cos(lat1*Math.PI/180) *
            Math.cos(lat2*Math.PI/180) * Math.sin(dLon/2)**2;
          const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
          return (R * c).toFixed(1);
        }

        destinations.forEach(d => {
          const distance = getDistance(userLat, userLon, d.lat, d.lon);
          const el = document.getElementById(`dist-${d.name.replace(/\s+/g,'')}`);
          if (el) el.textContent = `📍 ${distance} km away from you`;
        });
      }, () => {
        console.warn("User denied location access");
      });
    } else {
      console.warn("Geolocation not supported");
    }
  </script>
</body>
</html>